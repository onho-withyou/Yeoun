<th:block xmlns:th="http://www.thymeleaf.org"
          th:fragment="qc-regist-modal">

<!-- 검사등록 모달 -->
<div class="modal fade" id="qcRegModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">
          QC 검사 등록 -
          <span id="qcModalTitleOrder"></span>
          /
          <span id="qcModalTitleProduct"></span>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <form id="qcRegForm">
          
          <input type="hidden" id="qcResultId" name="qcResultId">
          <input type="hidden" id="orderId" name="orderId">

          <div class="row mb-3">
            <div class="col-md-4">
              <label class="form-label">작업지시번호</label>
              <div id="qcOrderIdText" class="fw-semibold"></div>
            </div>

            <div class="col-md-4">
              <label class="form-label">제품</label>
              <div id="qcProductText"></div>
            </div>

            <div class="col-md-2">
              <label class="form-label">지시수량</label>
              <div id="qcPlanQtyText"></div>
            </div>

            <div class="col-md-2">
              <label class="form-label required">검사일자</label>
              <input type="date"
                     class="form-control form-control-sm"
                     id="inspectionDate"
                     name="inspectionDate"
                     required>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-md-3">
              <label class="form-label required">검사자 (INSPECTOR_ID)</label>
              <input type="text"
                     class="form-control form-control-sm"
                     id="inspectorId"
                     name="inspectorId"
                     required>
            </div>

            <div class="col-md-3">
              <label class="form-label">LOT 번호</label>
              <div id="qcLotNoText">-</div>
            </div>
          </div>

          <div class="table-responsive mb-3">
            <table class="table table-sm table-bordered align-middle">
              <thead class="table-light">
              <tr>
                <th style="width: 170px;">QC 항목ID / 항목명</th>
                <th style="width: 90px;">단위</th>
                <th style="width: 200px;">기준값</th>
                <th style="width: 150px;">측정값</th>
                <th style="width: 110px;">판정</th>
                <th>비고</th>
              </tr>
              </thead>
              <tbody id="qcDetailTbody"></tbody>
            </table>
          </div>

          <div class="row g-3">
            <div class="col-md-3">
              <label class="form-label required">전체 판정</label>
              <select class="form-select form-select-sm"
                      id="overallResult"
                      name="overallResult"
                      required>
                <option value="">선택</option>
                <option value="PASS">합격</option>
                <option value="FAIL">불합격</option>
              </select>
            </div>

            <div class="col-md-9">
              <label class="form-label">불합격 사유</label>
              <textarea class="form-control form-control-sm"
                        id="failReason"
                        name="failReason"
                        rows="2"
                        placeholder="불합격일 경우 주요 사유를 입력하세요."></textarea>
            </div>
          </div>

        </form>
      </div>

      <div class="modal-footer">
        <button class="btn btn-secondary btn-sm" data-bs-dismiss="modal">닫기</button>
        <button class="btn btn-primary btn-sm" id="qcRegSaveBtn" type="button">저장</button>
      </div>

    </div>
  </div>
</div>

</th:block>