<th:block xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layouts/layout.html}">
<head>
<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
</head>
<body>
<th:block layout:fragment="content">
	<div class="custom-body container-xxl flex-grow-1 container-p-y">
		<h2>전자 결재 작성중</h2>
			<div class="d-flex justify-content-between">
			<div class="d-flex" style="height: 38.94px;">
	            <div class="mb-6 mb-0">
	            	<select class="form-select" onchange="draftValFn(this)">
	            		<option selected>기안서</option>
	            		<option name="draft" value="휴가(연차)신청서">휴가(연차)신청서</option>
						<option name="draft" value="인사발령신청서">인사발령신청서</option>
						<option name="draft" value="지출결의서">지출결의서</option>
						<option name="draft" value="자유양식결재서">자유양식결재서</option>
	            	</select>
	            </div>
	            <div class="d-flex justify-content-end" style="margin-left: 5px;">
						<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" style="width: 71px;">
						작성
						</button>
		        </div>
		        <div class="row flex-nowrap" style="margin-left: 506px;">
					<div class="mb-6 col-lg-5 col-xl-7 col-12 mb-0" style="width: 180px;">
						<input type="date" name="startDate" class="form-control">
					</div>
	                ~
	                <div class="mb-6 col-lg-5 col-xl-7 col-12 mb-0" style="width: 180px;">
		                <input type="date" name="endDate" class="form-control">
	                </div>
	                 <input class="form-control" type="text" placeholder="기안자및문서이름" style="width: 200px;height: 38.94px;">
	                <div class="mb-6 col-lg-6 col-xl-3 col-12 mb-0">
		             	<button class="btn btn-primary">검색</button>
	                </div>
				</div>
			</div>
		</div>
		<hr>
		<div style="margin-top: 15px;">
			<nav>
			  <div class="nav nav-tabs" id="nav-tab" role="tablist">
			    <button class="nav-link active" id="nav-approval-tab" data-bs-toggle="tab" data-bs-target="#nav-approval" type="button" role="tab" aria-controls="nav-home" aria-selected="true">
			    	결재사항
			    </button>
			    <button class="nav-link" id="nav-all-tab" data-bs-toggle="tab" data-bs-target="#nav-all" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">
			    	전체결재
			    </button>
			    <button class="nav-link" id="nav-my-tab" data-bs-toggle="tab" data-bs-target="#nav-my" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">
			    	내 결재목록
			    </button>
			    <button class="nav-link" id="nav-waiting-tab" data-bs-toggle="tab" data-bs-target="#nav-waiting" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">
			    	결재대기
			    </button>
			    <button class="nav-link" id="nav-done-tab" data-bs-toggle="tab" data-bs-target="#nav-done" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">
			    	결재완료
			    </button>
			  </div>
			</nav>
			<div class="tab-content" id="nav-tabContent">
			  <div class="tab-pane fade show active" id="nav-approval" role="tabpanel" aria-labelledby="nav-approval-tab">
			  	<h2>table1</h2>
			  	<div id="approvalGrid"></div>
			  </div>
			  <div class="tab-pane fade active" id="nav-all" role="tabpanel" aria-labelledby="nav-all-tab">
			  		<h2>table2</h2>
			  		<div id="grid2"></div>
			  </div>
			  <div class="tab-pane fade active" id="nav-my" role="tabpanel" aria-labelledby="nav-my-tab">
			  		<h2>table3</h2>
			  		<div id="grid3"></div>
			  </div>
			  <div class="tab-pane fade active" id="nav-waiting" role="tabpanel" aria-labelledby="nav-waiting-tab">
			  		<h2>table4</h2>
			  </div>
			  <div class="tab-pane fade active" id="nav-done" role="tabpanel" aria-labelledby="nav-done-tab">
			  		<h2>table5</h2>
			  </div>
			</div>
		</div>
		<!-- 모달 -->
		<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
		  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h3 class="modal-title" id="Drafting">기안서 작성</h3>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body">
		        <h5>문서 날짜: 데이터픽커</h5>
		        <h5>문서 제목: text box</h5>
		        <h5>양식 종류: dropdown</h5>
		        <h5>결재자명(기안자): dropdown</h5>
		        <h5>결재 완료기간: 데이터픽커 오늘날짜~결재완료일</h5>
		        <h5>휴가(연차)신청서:기간 날짜 달력선택기 [기본-hidden]</h5>
		        <h5>휴가(연차)신청서:휴가종류 dropdown [기본-hidden]</h5>
		        <h5>인사발령신청서:발령부서 dropdown [기본-hidden]</h5>
		        <h5>지출결의서: 지출종류 dropdown [기본-hidden]</h5>
		        <h5>자유양식결재서: 사유내용:texttrea [기본-hidden]</h5>
		        <h5>결재권한자 변경: 체크박스</h5>
		        <h5>결재권한자: 멀티셀렉트 박스</h5>
		        <h5>결재권한자 순서모양: div 태그로만들기<h5>
		        <h5>에디터<h5>
		      </div>
		      <div class="modal-footer">
		      	<div>
			     	<button type="button" class="btn btn-primary">첨부파일</button>
			      	<button type="button" class="btn btn-primary">결재확인</button>
			    </div>
		      	<hr>
		      	<button type="button" class="btn btn-primary">인쇄</button>
		        <button type="button" class="btn btn-primary">저장</button>
		        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
		      </div>
		    </div>
		  </div>
	</div>
	</div>
	
	
</th:block>
	
</body>


<th:block layout:fragment="myScript">
<script>
	const Grid = tui.Grid;
	const instance = new Grid({
		  el: document.getElementById('approvalGrid'), // Container element
		  columns: [
	
		    {
		      header: '결재순번'
		      ,name: 'row_no'
		      ,align: 'center'
		    },
		    {
		      header: '문서제목'
		      ,name: 'document_title'
		      ,align: 'center'
		    },
		    {
		      header: '기안자'
		      ,name: 'drafter'
		      ,align: 'center'
		    },
		    {
		      header: '부서명'
		      ,name: 'department_name'
		      ,align: 'center'
		    },
		    {
			  header: '직급'
			  ,name: 'rank'
			  ,align: 'center'
			},
			{
			  header: '생성일'
			  ,name: 'creation_date'
			  ,align: 'center'
			},
			{
			  header: '결재완료일자'
			  ,name: 'payment_completion_date'
			  ,align: 'center'
			},
			{
			  header: '상태'
			  ,name: 'state'
			  ,align: 'center'
			},
			{
			  header: '결재여부'
			  ,name: 'payment_status'
			  ,align: 'center'
			},
			{
			  header: '상세보기'
			  ,name: 'view_details'
			  ,align: 'center'

			}
		  ],
		  data: [
		    {
		    	row_no: 1,
				document_title: '지출 결의서',
				drafter:'',
				department_name:'',
				rank:'',
				creation_date:'',
				payment_completion_date:'',
				state:'',
				payment_status:'',
				view_details:'<button class="btn btn-primary me-2">상세</button>'
				
		    },
		    {
		    	row_no: 2,
				document_title: '휴가(연차)신청서',
				drafter:'',
				department_name:'',
				rank:'',
				creation_date:'',
				payment_completion_date:'',
				state:'',
				payment_status:'',
				view_details:'<button class="btn btn-primary me-2">상세</button>'
				
		    }
		  ]
		});
// 	instance.resetData(newData); // Call API of instance's public method
	
// 	Grid.applyTheme('clean'); // Call API of static method
	
	const grid2 = new Grid({
	    el: document.getElementById('grid2'), // 두 번째 컨테이너
	    columns: [
	    	
		    {
		      header: '결재순번'
		      ,name: 'row_no'
		      ,align: 'center'
		    },
		    {
		      header: '문서제목'
		      ,name: 'document_title'
		      ,align: 'center'
		    },
		    {
		      header: '기안자'
		      ,name: 'drafter'
		      ,align: 'center'
		    },
		    {
		      header: '부서명'
		      ,name: 'department_name'
		      ,align: 'center'
		    },
		    {
			  header: '직급'
			  ,name: 'rank'
			  ,align: 'center'
			},
			{
			  header: '생성일'
			  ,name: 'creation_date'
			  ,align: 'center'
			},
			{
			  header: '결재완료일자'
			  ,name: 'payment_completion_date'
			  ,align: 'center'
			},
			{
			  header: '상태'
			  ,name: 'state'
			  ,align: 'center'
			},
			{
			  header: '결재여부'
			  ,name: 'payment_status'
			  ,align: 'center'
			},
			{
			  header: '상세보기'
			  ,name: 'view_details'
			  ,align: 'center'

			}
		  ],
		  data: [
		    {
		    	row_no: 1,
				document_title: '지출 결의서',
				drafter:'',
				department_name:'',
				rank:'',
				creation_date:'',
				payment_completion_date:'',
				state:'',
				payment_status:'',
				view_details:'<button class="btn btn-primary me-2">상세</button>'
				
		    },
		    {
		    	row_no: 2,
				document_title: '휴가(연차)신청서',
				drafter:'',
				department_name:'',
				rank:'',
				creation_date:'',
				payment_completion_date:'',
				state:'',
				payment_status:'',
				view_details:'<button class="btn btn-primary me-2">상세</button>'
				
		    }
		  ]
	});
	
	//모달창 코드
	//셀렉트 박스 변경시 모달창에 텍스트 변경함수
	function draftValFn(e){
		
		let draft_doc = e.value;
		document.getElementById('Drafting').innerText = draft_doc;
	}

</script>
</th:block>

