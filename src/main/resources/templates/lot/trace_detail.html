<th:block xmlns:th="http://www.thymeleaf.org">
  <div th:fragment="detail">

    <th:block th:if="${rootDetail != null}">

      <div class="row gx-4">

        <!-- 왼쪽 컬럼 -->
        <div class="col-sm-6">
          <div class="mb-2">
            <div class="text-muted small">LOT 코드</div>
            <div class="fw-semibold" th:text="${rootDetail.lotNo}">LOT-...</div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">제품명</div>
            <div th:text="${rootDetail.productName}">한결 고체 향수 5g</div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">생산상태</div>
            <div th:text="${rootDetail.lotStatusLabel}">진행중</div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">생산지시수량</div>
            <div>
              <span th:text="${rootDetail.planQty}">500</span> EA
            </div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">시작일자</div>
            <div th:text="${rootDetail.startDate}">2025-01-02</div>
          </div>

		  <div class="mb-3">
		    <div class="text-muted small">라우트</div>
		
		    <!-- 라우트 ID -->
		    <div th:text="${rootDetail.routeId}">RT-SC2501-5G</div>
		
		    <!-- 공정 흐름 -->
		    <div class="text-muted"
		         th:text="${rootDetail.routeSteps}">
		      블렌딩 → 여과 → 충전 → 캡/펌프 → QC 검사 → 라벨링
		    </div>
		  </div>

        </div>

        <!-- 오른쪽 컬럼 -->
        <div class="col-sm-6">
          <div class="mb-3">
            <div class="text-muted small">제품코드</div>
            <div th:text="${rootDetail.productCode}">SC2501-5G</div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">제품유형</div>
            <div th:text="${rootDetail.productType}">
              완제품 / 고체 향수 (남성)
            </div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">작업지시번호</div>
            <div th:text="${rootDetail.workOrderId}">ORDER-0001</div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">현재 양품/불량</div>
            <div>
              <span th:text="${rootDetail.goodQty}">497</span> EA /
              <span th:text="${rootDetail.defectQty}">3</span> EA
            </div>
          </div>

          <div class="mb-3">
            <div class="text-muted small">예상 종료일자</div>
            <div th:text="${rootDetail.expectedEndDate}">2025-01-02</div>
          </div>
        </div>

      </div>

      <!-- 공정 상세 패널 -->
	<div id="processDetailPanel" class="mt-4 p-3 border rounded bg-light" style="display:none;">
	
	  <h6 class="fw-semibold mb-3">공정 상세 정보</h6>
	
	  <div class="row g-3">
	
	    <div class="col-sm-6">
	      <div class="text-muted small">공정명</div>
	      <div id="pd-processName" class="fw-semibold">-</div>
	
	      <div class="mt-2 text-muted small">공정코드</div>
	      <div id="pd-processId">-</div>
	
	      <div class="mt-2 text-muted small">공정 상태</div>
	      <div id="pd-status">-</div>
	
	      <div class="mt-2 text-muted small">담당 부서</div>
	      <div id="pd-deptName">-</div>
	    </div>
	
	    <div class="col-sm-6">
	      <div class="text-muted small">담당자(사번)</div>
	      <div id="pd-workerId">-</div>
	
	      <div class="mt-2 text-muted small">담당자명</div>
	      <div id="pd-workerName">-</div>
	
	      <div class="mt-2 text-muted small">라인 ID</div>
	      <div id="pd-lineId">-</div>
	    </div>
	
	  </div>
	
	  <!-- 2행 -->
	  <div class="row g-3 mt-3">
	
	    <div class="col-sm-6">
	      <div class="text-muted small">작업 시작일시</div>
	      <div id="pd-startTime">-</div>
	
	      <div class="mt-2 text-muted small">작업 종료일시</div>
	      <div id="pd-endTime">-</div>
	    </div>
	
	    <div class="col-sm-6">
	      <div class="text-muted small">양품수량</div>
	      <div id="pd-goodQty">-</div>
	
	      <div class="mt-2 text-muted small">불량수량</div>
	      <div id="pd-defectQty">-</div>
	
	      <div class="mt-2 text-muted small">불량률</div>
	      <div id="pd-defectRate">-</div>
	    </div>
	  </div>
	
	</div>


    </th:block>

    <th:block th:if="${rootDetail == null}">
      <div class="text-muted">LOT 정보를 불러오지 못했습니다.</div>
    </th:block>

  </div>
</th:block>