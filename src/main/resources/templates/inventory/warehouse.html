<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!-- 1. 스타일 정의 (fragment로 묶음) -->
	<div th:fragment="warehouseStyles">
	    <style>
	        /* 그리드 셀 스타일 */
	        .grid-cell {
	            width: 45px;
	            height: 45px;
	            background-color: #fff;
	            border: 1px solid #d9dee3;
	            border-radius: 0.375rem;
	            display: flex;
	            justify-content: center;
	            align-items: center;
	            font-size: 0.8rem;
	            font-weight: 600;
	            color: #697a8d;
	            cursor: pointer;
	            transition: all 0.2s ease-in-out;
	        }
	        .grid-cell:hover {
	            transform: translateY(-2px);
	            box-shadow: 0 0.25rem 1rem rgba(161, 172, 184, 0.45);
	            border-color: #696cff;
	            color: #696cff;
	        }
	        .grid-cell.has-stock {
	            background-color: #e7e7ff;
	            border-color: #696cff;
	            color: #696cff;
	        }
	    </style>
	</div>
	<!-- 2. 본문 내용 (Konva 컨테이너 및 모달들) -->
	<div th:fragment="warehouseContent">
	    <div class="card mb-4">
	    	<div class="d-flex align-items-center justify-content-between">
		        <h5 class="card-header">창고</h5>
		        <div class="me-3 fs-6 cursor-pointer text-hover-primary" id="openWarehouseModal">
		        	<i class="fa-solid fa-warehouse"></i>
		        	<span>창고등록</span>
		        </div>
	    	</div>
	        <!-- 범례 (Legend) 시작 -->
	        <div class="d-flex align-items-center gap-3 fs-6 mx-4">
	            <!-- 0개: 흰색 -->
	            <div class="d-flex align-items-center">
	                <span style="width: 12px; height: 12px; background-color: #ffffff; border: 1px solid #dee2e6; border-radius: 50%; display: inline-block; margin-right: 6px;"></span>
	                <span class="text-muted small">없음</span>
	            </div>
	
	            <!-- 1~3개: 파란색 -->
	            <div class="d-flex align-items-center">
	                <span style="width: 12px; height: 12px; background-color: #90caf9; border: 1px solid #1e88e5; border-radius: 50%; display: inline-block; margin-right: 6px;"></span>
	                <span class="text-muted small">보통 (1~3)</span>
	            </div>
	
	            <!-- 4개 이상: 붉은색 -->
	            <div class="d-flex align-items-center">
	                <span style="width: 12px; height: 12px; background-color: #ff6b6b; border: 1px solid #c92a2a; border-radius: 50%; display: inline-block; margin-right: 6px;"></span>
	                <span class="text-muted small">많음 (4↑)</span>
	            </div>
	        </div>
	        <!-- 범례 끝 -->
			<div class="">
		         <!-- Konva 캔버스가 그려질 컨테이너 -->
		         <div id="container" style="width: 100%; min-height: 100px;"></div>
		     </div>
	   	</div>
		<!-- 모달창 -->
		<th:block th:insert="~{inventory/modal/warehouseRack}"></th:block>
		<th:block th:insert="~{inventory/modal/warehouseStockDetail}"></th:block>
		<th:block th:insert="~{inventory/modal/warehouseRegist}"></th:block>
		
		<div th:fragment="warehouseScripts">
			<script src="https://kit.fontawesome.com/a96e186b03.js" crossorigin="anonymous"></script>
		    <script src="https://unpkg.com/konva@9.3.3/konva.min.js"></script>
		    <script th:src="@{/js/inventory/warehouse.js}"></script>
<!-- 		    <script th:src="@{/js/inventory/warehouseModify.js}"></script> -->
		</div>
    </div>
</html>
